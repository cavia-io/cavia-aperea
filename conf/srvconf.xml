<?xml version="1.0" encoding="UTF-8"?>
<testagent>
    <definitions>
        <str id="AMQP_URL">amqp://guest:guest@localhost:5672</str>
    </definitions>

    <sqlalchemy url="sqlite:///srv.db"/>
    <webapp>
        <listen port="19090" host="0.0.0.0" />
    </webapp>
    <workers>
        <cleanup-worker days_ago="30" interval="86400"/>
        <execute-worker interval="5" recover="false">
            <listeners>
                <listener class="ngta.listener.TestRunnerLogAmqpInterceptor">
                    <constructor-arg name="url" ref="AMQP_URL"/>
                    <constructor-arg name="exchange_name" value="ngta.logging"/>
                    <constructor-arg name="exchange_type" value="direct"/>
                </listener>
                <listener class="ngta.listener.TestRecordAmqpInterceptor">
                    <constructor-arg name="url" ref="AMQP_URL"/>
                    <constructor-arg name="queue_name" value="ngta.record"/>
                </listener>
            </listeners>
        </execute-worker>
    </workers>
</testagent>